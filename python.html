<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quiz Python</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üêç</text></svg>"
    />
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      @keyframes shake {
        10%, 90% { transform: translate3d(-1px, 0, 0); }
        20%, 80% { transform: translate3d(2px, 0, 0); }
        30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
        40%, 60% { transform: translate3d(4px, 0, 0); }
      }
      .shake {
        animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both;
      }
    </style>
  </head>
  <body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen py-8">
    <div class="container mx-auto px-4 max-w-4xl">
      <!-- Header -->
      <div class="text-center mb-8">
        <h1 class="text-4xl font-bold text-indigo-800 mb-2">Quiz Python üêç</h1>
        <p class="text-lg text-gray-600">Testez vos connaissances en Python</p>
      </div>

      <!-- Quiz Container -->
      <div id="quiz-container" class="bg-white rounded-xl shadow-lg p-6 mb-6">
        <!-- Progress Bar -->
        <div class="mb-6">
          <div class="flex justify-between mb-2">
            <span class="text-sm font-medium text-indigo-700">Progression</span>
            <span
              id="progress-text"
              class="text-sm font-medium text-indigo-700"
            ></span>
          </div>
          <div class="w-full bg-gray-200 rounded-full h-2.5">
            <div
              id="progress-bar"
              class="bg-indigo-600 h-2.5 rounded-full"
              style="width: 20%"
            ></div>
          </div>
        </div>

        <!-- Question Container -->
        <div id="question-container" class="mb-8">
          <!-- Question will be dynamically inserted here -->
        </div>

        <!-- Navigation Buttons -->
        <div class="flex justify-between">
          <button
            id="prev-btn"
            class="flex items-center justify-center px-5 py-2 text-sm text-indigo-700 transition-colors duration-150 bg-indigo-100 rounded-lg hover:bg-indigo-200 disabled:opacity-50 disabled:cursor-not-allowed"
          >
            <i class="fas fa-arrow-left mr-2"></i> Pr√©c√©dent
          </button>
          <button
            id="next-btn"
            class="flex items-center justify-center px-5 py-2 text-sm text-white transition-colors duration-150 bg-indigo-600 rounded-lg hover:bg-indigo-700"
          >
            Suivant <i class="fas fa-arrow-right ml-2"></i>
          </button>
          <button
            id="results-btn"
            class="hidden flex items-center justify-center px-5 py-2 text-sm text-white transition-colors duration-150 bg-green-600 rounded-lg hover:bg-green-700"
          >
            Voir les r√©sultats <i class="fas fa-chart-bar ml-2"></i>
          </button>
        </div>
      </div>

      <!-- Results Container -->
      <div
        id="results-container"
        class="hidden bg-white rounded-xl shadow-lg p-6"
      >
        <div class="text-center mb-6">
          <h2 class="text-2xl font-bold text-indigo-800 mb-2">
            R√©sultats du Quiz
          </h2>
          <div
            class="inline-flex items-center px-4 py-2 bg-indigo-100 text-indigo-800 rounded-full"
          >
            <i class="fas fa-trophy mr-2"></i>
            <span id="score-text" class="font-bold"
              >Score: 0/quizQuestions.length</span
            >
          </div>
        </div>

        <div id="results-list" class="space-y-4">
          <!-- Results will be dynamically inserted here -->
        </div>

        <div class="mt-8 text-center">
          <button
            id="restart-btn"
            class="px-6 py-3 text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors duration-150"
          >
            <i class="fas fa-redo mr-2"></i> Recommencer le Quiz
          </button>
          <button
            id="download-pdf-btn"
            class="px-6 py-3 text-white bg-green-600 rounded-lg hover:bg-green-700 transition-colors duration-150 ml-4"
          >
            <i class="fas fa-download mr-2"></i> T√©l√©charger en PDF
          </button>
        </div>

        <div class="mt-8 text-center">
          <a
            href="index.html"
            class="px-6 py-3 text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors duration-150"
          >
            <i class="fas fa-redo mr-2"></i>Revenir √† la page principale
          </a>
        </div>
      </div>
    </div>

    <script>
      localStorage.clear();
      // Quiz questions data
      const quizQuestions = [
    {
        "id": 1,
        "type": "multichoix",
        "question": "Quel mot-cl√© est utilis√© pour d√©finir une fonction en Python?",
        "options": [
            "function",
            "def",
            "define",
            "func"
        ],
        "correctAnswer": 1,
        "explanation": "Le mot-cl√© 'def' est utilis√© pour d√©finir une fonction en Python."
    },
    {
        "id": 2,
        "type": "multichoix",
        "question": "Comment cr√©e-t-on une liste en Python?",
        "options": [
            "list = []",
            "list = list()",
            "list = {}",
            "Les deux premi√®res r√©ponses"
        ],
        "correctAnswer": 3,
        "explanation": "On peut cr√©er une liste avec des crochets [] ou avec la fonction list()."
    },
    {
        "id": 3,
        "type": "multichoix",
        "question": "Quelle m√©thode permet d'ajouter un √©l√©ment √† une liste?",
        "options": [
            "add()",
            "append()",
            "insert()",
            "push()"
        ],
        "correctAnswer": 1,
        "explanation": "La m√©thode append() ajoute un √©l√©ment √† la fin d'une liste."
    },
    {
        "id": 4,
        "type": "multichoix",
        "question": "Comment acc√®de-t-on au dernier √©l√©ment d'une liste?",
        "options": [
            "list[0]",
            "list[-1]",
            "list[last]",
            "list[end]"
        ],
        "correctAnswer": 1,
        "explanation": "Les indices n√©gatifs comptent √† partir de la fin : -1 pour le dernier √©l√©ment."
    },
    {
        "id": 5,
        "type": "multichoix",
        "question": "Quel op√©rateur est utilis√© pour l'exponentiation?",
        "options": [
            "^",
            "**",
            "^^",
            "pow"
        ],
        "correctAnswer": 1,
        "explanation": "L'op√©rateur ** est utilis√© pour l'exponentiation. Exemple: 2**3 = 8."
    },
    {
        "id": 6,
        "type": "multichoix",
        "question": "Comment cr√©e-t-on un dictionnaire?",
        "options": [
            "dict = []",
            "dict = {}",
            "dict = ()",
            "dict = <>"
        ],
        "correctAnswer": 1,
        "explanation": "Les dictionnaires sont cr√©√©s avec des accolades {} ou avec dict()."
    },
    {
        "id": 7,
        "type": "multichoix",
        "question": "Quelle fonction convertit une cha√Æne en entier?",
        "options": [
            "int()",
            "str()",
            "integer()",
            "parseInt()"
        ],
        "correctAnswer": 0,
        "explanation": "La fonction int() convertit une cha√Æne en entier. Exemple: int('123') ‚Üí 123."
    },
    {
        "id": 8,
        "type": "multichoix",
        "question": "Comment ouvre-t-on un fichier en lecture?",
        "options": [
            "open('fichier.txt', 'r')",
            "open('fichier.txt', 'read')",
            "open('fichier.txt', 'w')",
            "read('fichier.txt')"
        ],
        "correctAnswer": 0,
        "explanation": "'r' signifie read (lecture). 'w' serait pour write (√©criture)."
    },
    {
        "id": 9,
        "type": "multichoix",
        "question": "Quelle m√©thode lit tout le contenu d'un fichier?",
        "options": [
            "read()",
            "readline()",
            "readall()",
            "get()"
        ],
        "correctAnswer": 0,
        "explanation": "read() lit tout le contenu du fichier, readline() lit une ligne √† la fois."
    },
    {
        "id": 10,
        "type": "multichoix",
        "question": "Comment g√®re-t-on les exceptions en Python?",
        "options": [
            "try-catch",
            "try-except",
            "error-handle",
            "catch-error"
        ],
        "correctAnswer": 1,
        "explanation": "Python utilise try-except pour g√©rer les exceptions, pas try-catch."
    },
    {
        "id": 11,
        "type": "multichoix",
        "question": "Quel mot-cl√© est utilis√© pour les boucles?",
        "options": [
            "for",
            "while",
            "loop",
            "Les deux premi√®res r√©ponses"
        ],
        "correctAnswer": 3,
        "explanation": "Python a deux types de boucles : for et while."
    },
    {
        "id": 12,
        "type": "multichoix",
        "question": "Comment cr√©e-t-on un tuple?",
        "options": [
            "tuple = []",
            "tuple = {}",
            "tuple = ()",
            "tuple = <>"
        ],
        "correctAnswer": 2,
        "explanation": "Les tuples sont cr√©√©s avec des parenth√®ses () ou avec tuple()."
    },
    {
        "id": 13,
        "type": "multichoix",
        "question": "Quelle est la diff√©rence entre liste et tuple?",
        "options": [
            "Les listes sont mutables, les tuples non",
            "Les tuples sont mutables, les listes non",
            "Aucune diff√©rence",
            "Les tuples sont plus rapides"
        ],
        "correctAnswer": 0,
        "explanation": "Les listes peuvent √™tre modifi√©es (mutables), les tuples sont immuables."
    },
    {
        "id": 14,
        "type": "multichoix",
        "question": "Comment importe-t-on un module?",
        "options": [
            "import module",
            "from module import function",
            "include module",
            "Les deux premi√®res r√©ponses"
        ],
        "correctAnswer": 3,
        "explanation": "On peut importer un module complet ou des fonctions sp√©cifiques."
    },
    {
        "id": 15,
        "type": "multichoix",
        "question": "Quelle fonction donne la longueur d'une s√©quence?",
        "options": [
            "length()",
            "len()",
            "size()",
            "count()"
        ],
        "correctAnswer": 1,
        "explanation": "len() retourne le nombre d'√©l√©ments dans une liste, cha√Æne, etc."
    },
    {
        "id": 16,
        "type": "multichoix",
        "question": "Comment cr√©e-t-on un ensemble (set)?",
        "options": [
            "set = {}",
            "set = set()",
            "set = []",
            "set = ()"
        ],
        "correctAnswer": 1,
        "explanation": "set() cr√©e un ensemble vide. {} cr√©e un dictionnaire vide."
    },
    {
        "id": 17,
        "type": "multichoix",
        "question": "Quelle m√©thode enl√®ve les doublons d'une liste?",
        "options": [
            "list.remove_duplicates()",
            "list.unique()",
            "set(list)",
            "list.distinct()"
        ],
        "correctAnswer": 2,
        "explanation": "Convertir en set puis en liste enl√®ve les doublons car les sets n'autorisent pas les doublons."
    },
    {
        "id": 18,
        "type": "multichoix",
        "question": "Comment trie-t-on une liste?",
        "options": [
            "list.sort()",
            "sorted(list)",
            "list.order()",
            "Les deux premi√®res r√©ponses"
        ],
        "correctAnswer": 3,
        "explanation": "sort() trie la liste sur place, sorted() retourne une nouvelle liste tri√©e."
    },
    {
        "id": 19,
        "type": "multichoix",
        "question": "Quel op√©rateur v√©rifie l'appartenance?",
        "options": [
            "in",
            "contains",
            "has",
            "include"
        ],
        "correctAnswer": 0,
        "explanation": "L'op√©rateur 'in' v√©rifie si un √©l√©ment est dans une s√©quence."
    },
    {
        "id": 20,
        "type": "multichoix",
        "question": "Comment d√©finit-on une classe?",
        "options": [
            "class MaClass:",
            "def class MaClass:",
            "class = MaClass",
            "create class MaClass"
        ],
        "correctAnswer": 0,
        "explanation": "Le mot-cl√© 'class' est utilis√© pour d√©finir une classe."
    },
    {
        "id": 21,
        "type": "multichoix",
        "question": "Quelle m√©thode est le constructeur d'une classe?",
        "options": [
            "__init__",
            "__construct__",
            "__new__",
            "constructor"
        ],
        "correctAnswer": 0,
        "explanation": "__init__ est la m√©thode d'initialisation (constructeur) d'une classe."
    },
    {
        "id": 22,
        "type": "multichoix",
        "question": "Comment acc√®de-t-on √† l'instance courante dans une classe?",
        "options": [
            "this",
            "self",
            "me",
            "current"
        ],
        "correctAnswer": 1,
        "explanation": "'self' est le premier param√®tre des m√©thodes d'instance et r√©f√©rence l'instance courante."
    },
    {
        "id": 23,
        "type": "multichoix",
        "question": "Quelle fonction affiche du texte √† l'√©cran?",
        "options": [
            "print()",
            "echo()",
            "display()",
            "show()"
        ],
        "correctAnswer": 0,
        "explanation": "print() est la fonction standard pour afficher du texte dans la console."
    },
    {
        "id": 24,
        "type": "multichoix",
        "question": "Comment cr√©e-t-on une compr√©hension de liste?",
        "options": [
            "[x for x in range(5)]",
            "list(x for x in range(5))",
            "{x for x in range(5)}",
            "Les deux premi√®res r√©ponses"
        ],
        "correctAnswer": 3,
        "explanation": "Les deux syntaxes cr√©ent une liste avec les √©l√©ments de 0 √† 4."
    },
    {
        "id": 25,
        "type": "multichoix",
        "question": "Quel mot-cl√© est utilis√© pour l'h√©ritage?",
        "options": [
            "extends",
            "inherits",
            "super",
            "Aucun mot-cl√© sp√©cifique"
        ],
        "correctAnswer": 3,
        "explanation": "L'h√©ritage se fait en mettant la classe parente entre parenth√®ses : class Enfant(Parent):"
    },
    {
        "id": 26,
        "type": "multichoix",
        "question": "Comment g√©n√®re-t-on des nombres al√©atoires?",
        "options": [
            "random.random()",
            "random.randint()",
            "import random",
            "Toutes ces r√©ponses"
        ],
        "correctAnswer": 3,
        "explanation": "Le module random offre plusieurs fonctions pour g√©n√©rer des nombres al√©atoires."
    },
    {
        "id": 27,
        "type": "multichoix",
        "question": "Quelle m√©thode divise une cha√Æne en liste?",
        "options": [
            "split()",
            "divide()",
            "partition()",
            "separate()"
        ],
        "correctAnswer": 0,
        "explanation": "split() divise une cha√Æne selon un s√©parateur et retourne une liste."
    },
    {
        "id": 28,
        "type": "multichoix",
        "question": "Comment joint-on une liste en cha√Æne?",
        "options": [
            "join()",
            "concat()",
            "merge()",
            "combine()"
        ],
        "correctAnswer": 0,
        "explanation": "str.join(liste) joint les √©l√©ments d'une liste avec le s√©parateur str."
    },
    {
        "id": 29,
        "type": "multichoix",
        "question": "Quelle fonction lit l'entr√©e utilisateur?",
        "options": [
            "input()",
            "readline()",
            "get_input()",
            "scan()"
        ],
        "correctAnswer": 0,
        "explanation": "input() lit une ligne depuis l'entr√©e standard et la retourne comme cha√Æne."
    },
    {
        "id": 30,
        "type": "multichoix",
        "question": "Comment v√©rifie-t-on le type d'une variable?",
        "options": [
            "type()",
            "typeof()",
            "isinstance()",
            "Les deux premi√®res r√©ponses"
        ],
        "correctAnswer": 2,
        "explanation": "isinstance() est pr√©f√©rable √† type() car elle g√®re l'h√©ritage."
    },
    {
        "id": 31,
        "type": "multichoix",
        "question": "Quel mot-cl√© est utilis√© pour les fonctions anonymes?",
        "options": [
            "lambda",
            "def",
            "function",
            "anon"
        ],
        "correctAnswer": 0,
        "explanation": "lambda permet de cr√©er des fonctions anonymes simples."
    },
    {
        "id": 32,
        "type": "multichoix",
        "question": "Comment it√®re-t-on sur les cl√©s d'un dictionnaire?",
        "options": [
            "for key in dict:",
            "for key in dict.keys():",
            "for key, value in dict.items():",
            "Toutes ces r√©ponses"
        ],
        "correctAnswer": 3,
        "explanation": "Les trois m√©thodes permettent d'it√©rer sur un dictionnaire."
    },
    {
        "id": 33,
        "type": "multichoix",
        "question": "Quelle m√©thode supprime un √©l√©ment d'un dictionnaire?",
        "options": [
            "del dict[key]",
            "dict.pop(key)",
            "dict.remove(key)",
            "Les deux premi√®res r√©ponses"
        ],
        "correctAnswer": 3,
        "explanation": "del et pop() permettent de supprimer un √©l√©ment d'un dictionnaire."
    },
    {
        "id": 34,
        "type": "multichoix",
        "question": "Comment cr√©e-t-on une copie profonde d'une liste?",
        "options": [
            "list.copy()",
            "list[:]",
            "copy.deepcopy(list)",
            "Toutes ces r√©ponses"
        ],
        "explanation": "deepcopy() cr√©e une copie r√©cursive, n√©cessaire pour les listes contenant d'autres listes."
    },
    {
        "id": 35,
        "type": "multichoix",
        "question": "Quelle fonction √©num√®re les √©l√©ments avec leur index?",
        "options": [
            "enumerate()",
            "index()",
            "list_with_index()",
            "count()"
        ],
        "correctAnswer": 0,
        "explanation": "enumerate() retourne des paires (index, valeur) pour une s√©quence."
    },
    {
        "id": 36,
        "type": "multichoix",
        "question": "Comment formate-t-on une cha√Æne avec des variables?",
        "options": [
            "f'Text {variable}'",
            "'Text {}'.format(variable)",
            "'Text %s' % variable",
            "Toutes ces r√©ponses"
        ],
        "correctAnswer": 3,
        "explanation": "Python supporte plusieurs m√©thodes de formatage de cha√Ænes."
    },
    {
        "id": 37,
        "type": "multichoix",
        "question": "Quelle m√©thode v√©rifie si une cha√Æne commence par un motif?",
        "options": [
            "startswith()",
            "beginwith()",
            "starts()",
            "checkstart()"
        ],
        "correctAnswer": 0,
        "explanation": "startswith() v√©rifie si une cha√Æne commence par le pr√©fixe sp√©cifi√©."
    },
    {
        "id": 38,
        "type": "multichoix",
        "question": "Comment g√®re-t-on les fichiers avec un gestionnaire de contexte?",
        "options": [
            "with open() as f:",
            "using open() as f:",
            "open().with()",
            "context open()"
        ],
        "correctAnswer": 0,
        "explanation": "with open() garantit que le fichier sera ferm√© m√™me en cas d'erreur."
    },
    {
        "id": 39,
        "type": "multichoix",
        "question": "Quelle fonction mapie une fonction sur une s√©quence?",
        "options": [
            "map()",
            "apply()",
            "foreach()",
            "transform()"
        ],
        "correctAnswer": 0,
        "explanation": "map() applique une fonction √† chaque √©l√©ment d'une s√©quence."
    },
    {
        "id": 40,
        "type": "multichoix",
        "question": "Comment filtre-t-on une s√©quence?",
        "options": [
            "filter()",
            "where()",
            "select()",
            "find()"
        ],
        "correctAnswer": 0,
        "explanation": "filter() retourne les √©l√©ments d'une s√©quence pour lesquels une fonction retourne True."
    },
    {
        "id": 41,
        "type": "multichoix",
        "question": "Quelle fonction r√©duit une s√©quence?",
        "options": [
            "reduce()",
            "fold()",
            "aggregate()",
            "compress()"
        ],
        "correctAnswer": 0,
        "explanation": "reduce() (dans functools) applique cumulativement une fonction aux √©l√©ments."
    },
    {
        "id": 42,
        "type": "multichoix",
        "question": "Comment cr√©e-t-on un g√©n√©rateur?",
        "options": [
            "Avec yield dans une fonction",
            "Avec des compr√©hensions entre parenth√®ses",
            "generator()",
            "Les deux premi√®res r√©ponses"
        ],
        "correctAnswer": 3,
        "explanation": "Les g√©n√©rateurs peuvent √™tre cr√©√©s avec yield ou avec des expressions g√©n√©ratrices."
    },
    {
        "id": 43,
        "type": "multichoix",
        "question": "Quelle est la diff√©rence entre == et is?",
        "options": [
            "== compare les valeurs, is compare les identit√©s",
            "is compare les valeurs, == compare les identit√©s",
            "Aucune diff√©rence",
            "== est pour les nombres, is pour les cha√Ænes"
        ],
        "correctAnswer": 0,
        "explanation": "== v√©rifie l'√©galit√© des valeurs, is v√©rifie si c'est le m√™me objet en m√©moire."
    },
    {
        "id": 44,
        "type": "multichoix",
        "question": "Comment range-t-on les arguments dans une fonction?",
        "options": [
            "Arguments positionnels puis nomm√©s",
            "Arguments nomm√©s puis positionnels",
            "Peu importe l'ordre",
            "Les arguments nomm√©s ne peuvent pas suivre les positionnels"
        ],
        "correctAnswer": 0,
        "explanation": "Les arguments positionnels doivent venir avant les arguments nomm√©s."
    },
    {
        "id": 45,
        "type": "multichoix",
        "question": "Que fait *args dans une fonction?",
        "options": [
            "Accepte des arguments nomm√©s",
            "Accepte des arguments positionnels variables",
            "Force les arguments √† √™tre nomm√©s",
            "D√©compacte une liste"
        ],
        "correctAnswer": 1,
        "explanation": "*args capture les arguments positionnels suppl√©mentaires dans un tuple."
    },
    {
        "id": 46,
        "type": "multichoix",
        "question": "Que fait **kwargs dans une fonction?",
        "options": [
            "Accepte des arguments nomm√©s variables",
            "Accepte des arguments positionnels variables",
            "Force les arguments √† √™tre positionnels",
            "D√©compacte un dictionnaire"
        ],
        "correctAnswer": 0,
        "explanation": "**kwargs capture les arguments nomm√©s suppl√©mentaires dans un dictionnaire."
    },
    {
        "id": 47,
        "type": "multichoix",
        "question": "Comment d√©compacter une liste en arguments?",
        "options": [
            "func(*liste)",
            "func(liste)",
            "func(**liste)",
            "func(unpack liste)"
        ],
        "correctAnswer": 0,
        "explanation": "* d√©compacter une liste/tuple en arguments positionnels."
    },
    {
        "id": 48,
        "type": "multichoix",
        "question": "Comment d√©compacter un dictionnaire en arguments nomm√©s?",
        "options": [
            "func(**dict)",
            "func(*dict)",
            "func(dict)",
            "func(unpack dict)"
        ],
        "correctAnswer": 0,
        "explanation": "** d√©compacter un dictionnaire en arguments nomm√©s."
    },
    {
        "id": 49,
        "type": "multichoix",
        "question": "Quelle m√©thode est appel√©e quand on utilise print() sur un objet?",
        "options": [
            "__str__",
            "__repr__",
            "__print__",
            "__display__"
        ],
        "correctAnswer": 0,
        "explanation": "__str__ est appel√©e par print() et str() pour avoir une repr√©sentation lisible."
    },
    {
        "id": 50,
        "type": "multichoix",
        "question": "Quelle m√©thode est appel√©e dans l'interpr√©teur interactif?",
        "options": [
            "__str__",
            "__repr__",
            "__interactive__",
            "__eval__"
        ],
        "correctAnswer": 1,
        "explanation": "__repr__ est appel√©e dans l'interpr√©teur pour avoir une repr√©sentation non ambigu√´."
    },
    {
        "id": 51,
        "type": "multichoix",
        "question": "Comment cr√©e-t-on une propri√©t√©?",
        "options": [
            "@property",
            "property()",
            "getter()",
            "Les deux premi√®res r√©ponses"
        ],
        "correctAnswer": 3,
        "explanation": "On peut utiliser le d√©corateur @property ou la fonction property()."
    },
    {
        "id": 52,
        "type": "multichoix",
        "question": "Quel module est utilis√© pour les tests unitaires?",
        "options": [
            "unittest",
            "pytest",
            "test",
            "Les deux premi√®res r√©ponses"
        ],
        "correctAnswer": 3,
        "explanation": "unittest est dans la biblioth√®que standard, pytest est un module externe populaire."
    },
    {
        "id": 53,
        "type": "multichoix",
        "question": "Comment mesure-t-on le temps d'ex√©cution?",
        "options": [
            "time.time()",
            "timeit",
            "datetime",
            "Les deux premi√®res r√©ponses"
        ],
        "explanation": "time.time() donne un timestamp, timeit est sp√©cialis√© pour le benchmarking."
    },
    {
        "id": 54,
        "type": "multichoix",
        "question": "Quelle fonction parcourt plusieurs s√©quences en parall√®le?",
        "options": [
            "zip()",
            "parallel()",
            "map()",
            "enumerate()"
        ],
        "correctAnswer": 0,
        "explanation": "zip() combine plusieurs s√©quences en tuples, s'arr√™tant √† la plus courte."
    },
    {
        "id": 55,
        "type": "multichoix",
        "question": "Comment inverse-t-on une liste?",
        "options": [
            "list.reverse()",
            "reversed(list)",
            "list[::-1]",
            "Toutes ces r√©ponses"
        ],
        "correctAnswer": 3,
        "explanation": "Les trois m√©thodes permettent d'inverser une liste, avec des comportements diff√©rents."
    },
    {
        "id": 56,
        "type": "multichoix",
        "question": "Quelle fonction donne les cl√©s et valeurs d'un dictionnaire?",
        "options": [
            "dict.keys()",
            "dict.values()",
            "dict.items()",
            "Toutes ces r√©ponses"
        ],
        "correctAnswer": 3,
        "explanation": "keys() pour les cl√©s, values() pour les valeurs, items() pour les paires."
    },
    {
        "id": 57,
        "type": "multichoix",
        "question": "Comment v√©rifie-t-on si un fichier existe?",
        "options": [
            "os.path.exists()",
            "pathlib.Path.exists()",
            "file.exists()",
            "Les deux premi√®res r√©ponses"
        ],
        "correctAnswer": 3,
        "explanation": "os.path et pathlib offrent des m√©thodes pour v√©rifier l'existence de fichiers."
    },
    {
        "id": 58,
        "type": "multichoix",
        "question": "Quelle m√©thode supprime les espaces en d√©but et fin de cha√Æne?",
        "options": [
            "strip()",
            "trim()",
            "clean()",
            "remove_spaces()"
        ],
        "correctAnswer": 0,
        "explanation": "strip() enl√®ve les espaces, lstrip() seulement √† gauche, rstrip() seulement √† droite."
    },
    {
        "id": 59,
        "type": "multichoix",
        "question": "Comment convertit-on une liste en ensemble?",
        "options": [
            "set(list)",
            "list.to_set()",
            "convert(list, 'set')",
            "as_set(list)"
        ],
        "correctAnswer": 0,
        "explanation": "set() peut convertir n'importe quelle it√©rable en ensemble."
    },
    {
        "id": 60,
        "type": "multichoix",
        "question": "Quelle fonction arrondit un nombre?",
        "options": [
            "round()",
            "int()",
            "floor()",
            "ceil()"
        ],
        "correctAnswer": 0,
        "explanation": "round() arrondit un nombre √† l'entier le plus proche ou au nombre de d√©cimales sp√©cifi√©."
    }
];

      document.getElementById("progress-text").textContent =
        "Question 1/" + quizQuestions.length;

      // DOM Elements
      const questionContainer = document.getElementById("question-container");
      const progressBar = document.getElementById("progress-bar");
      const progressText = document.getElementById("progress-text");
      const prevBtn = document.getElementById("prev-btn");
      const nextBtn = document.getElementById("next-btn");
      const resultsBtn = document.getElementById("results-btn");
      const quizContainer = document.getElementById("quiz-container");
      const resultsContainer = document.getElementById("results-container");
      const scoreText = document.getElementById("score-text");
      const resultsList = document.getElementById("results-list");
      const restartBtn = document.getElementById("restart-btn");
      const downloadPdfBtn = document.getElementById("download-pdf-btn");

      // Quiz state
      let currentQuestionIndex = 0;
      let userAnswers =
        JSON.parse(localStorage.getItem("pythonQuizAnswers")) ||
        Array(quizQuestions.length).fill(null);

      // Initialize the quiz
      function initQuiz() {
        displayQuestion(currentQuestionIndex);
        updateProgress();
        updateNavigationButtons();
      }

      // Display current question
      function displayQuestion(index) {
        const question = quizQuestions[index];
        let questionHTML = "";

        if (question.type === "vrai-faux") {
          questionHTML = `
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4">${
                          question.question
                        }</h3>
                        <div class="flex space-x-4">
                            <label class="flex items-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors duration-150 flex-1 ${
                              userAnswers[index] === "vrai"
                                ? "border-indigo-500 bg-indigo-50"
                                : ""
                            }">
                                <input type="radio" name="answer" value="vrai" class="hidden" ${
                                  userAnswers[index] === "vrai" ? "checked" : ""
                                }>
                                <div class="flex items-center justify-center w-6 h-6 border-2 border-gray-300 rounded-full mr-3 ${
                                  userAnswers[index] === "vrai"
                                    ? "border-indigo-500 bg-indigo-500"
                                    : ""
                                }">
                                    ${
                                      userAnswers[index] === "vrai"
                                        ? '<i class="fas fa-check text-white text-xs"></i>'
                                        : ""
                                    }
                                </div>
                                <span class="text-lg">Vrai</span>
                            </label>
                            <label class="flex items-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors duration-150 flex-1 ${
                              userAnswers[index] === "faux"
                                ? "border-indigo-500 bg-indigo-50"
                                : ""
                            }">
                                <input type="radio" name="answer" value="faux" class="hidden" ${
                                  userAnswers[index] === "faux" ? "checked" : ""
                                }>
                                <div class="flex items-center justify-center w-6 h-6 border-2 border-gray-300 rounded-full mr-3 ${
                                  userAnswers[index] === "faux"
                                    ? "border-indigo-500 bg-indigo-500"
                                    : ""
                                }">
                                    ${
                                      userAnswers[index] === "faux"
                                        ? '<i class="fas fa-check text-white text-xs"></i>'
                                        : ""
                                    }
                                </div>
                                <span class="text-lg">Faux</span>
                            </label>
                        </div>
                    </div>
                `;
        } else if (question.type === "multichoix") {
          questionHTML = `
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4">${
                          question.question
                        }</h3>
                        <div class="space-y-3">
                            ${question.options
                              .map(
                                (option, i) => `
                                <label class="flex items-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors duration-150 ${
                                  userAnswers[index] === i
                                    ? "border-indigo-500 bg-indigo-50"
                                    : ""
                                }">
                                    <input type="radio" name="answer" value="${i}" class="hidden" ${
                                  userAnswers[index] === i ? "checked" : ""
                                }>
                                    <div class="flex items-center justify-center w-6 h-6 border-2 border-gray-300 rounded-full mr-3 ${
                                      userAnswers[index] === i
                                        ? "border-indigo-500 bg-indigo-500"
                                        : ""
                                    }">
                                        ${
                                          userAnswers[index] === i
                                            ? '<i class="fas fa-check text-white text-xs"></i>'
                                            : ""
                                        }
                                    </div>
                                    <span class="text-lg">${option}</span>
                                </label>
                            `
                              )
                              .join("")}
                        </div>
                    </div>
                `;
        }

        questionContainer.innerHTML = questionHTML;

        // Add event listeners to answer options
        const answerOptions = questionContainer.querySelectorAll("label");
        answerOptions.forEach((option) => {
          option.addEventListener("click", () => {
            // Remove selection from all options
            answerOptions.forEach((opt) => {
              opt.classList.remove("border-indigo-500", "bg-indigo-50");
              const radio = opt.querySelector('input[type="radio"]');
              const checkIcon = opt.querySelector(".fa-check");
              if (checkIcon) {
                checkIcon.parentElement.classList.remove(
                  "border-indigo-500",
                  "bg-indigo-500"
                );
                checkIcon.remove();
              }
            });

            // Select clicked option
            option.classList.add("border-indigo-500", "bg-indigo-50");
            const radio = option.querySelector('input[type="radio"]');
            radio.checked = true;

            const checkDiv = option.querySelector("div");
            checkDiv.classList.add("border-indigo-500", "bg-indigo-500");
            checkDiv.innerHTML =
              '<i class="fas fa-check text-white text-xs"></i>';

            // Save answer
            saveAnswer(index, radio.value);
          });
        });
      }

      // Save answer to localStorage
      function saveAnswer(index, answer) {
        userAnswers[index] = answer;
        localStorage.setItem("pythonQuizAnswers", JSON.stringify(userAnswers));
        updateNavigationButtons();
      }

      // Update progress bar and text
      function updateProgress() {
        const progress =
          ((currentQuestionIndex + 1) / quizQuestions.length) * 100;
        progressBar.style.width = `${progress}%`;
        progressText.textContent = `Question ${currentQuestionIndex + 1}/${
          quizQuestions.length
        }`;
      }

      // Update navigation buttons state
      function updateNavigationButtons() {
        prevBtn.disabled = currentQuestionIndex === 0;

        if (currentQuestionIndex === quizQuestions.length - 1) {
          nextBtn.classList.add("hidden");
          resultsBtn.classList.remove("hidden");
        } else {
          nextBtn.classList.remove("hidden");
          resultsBtn.classList.add("hidden");
        }
      }

      // Show results
      function showResults() {
        let score = 0;
        resultsList.innerHTML = "";

        quizQuestions.forEach((question, index) => {
          const userAnswer = userAnswers[index];
          let isCorrect = false;

          if (question.type === "vrai-faux") {
            isCorrect = userAnswer === question.correctAnswer;
          } else if (question.type === "multichoix") {
            isCorrect = parseInt(userAnswer) === question.correctAnswer;
          }

          if (isCorrect) score++;

          const resultItem = document.createElement("div");
          resultItem.className = `p-4 rounded-lg border ${
            isCorrect
              ? "bg-green-50 border-green-200"
              : "bg-red-50 border-red-200"
          }`;

          let userAnswerText = "";
          if (question.type === "vrai-faux") {
            userAnswerText = userAnswer || "Non r√©pondu";
          } else if (question.type === "multichoix") {
            userAnswerText =
              userAnswer !== null
                ? question.options[userAnswer]
                : "Non r√©pondu";
          }

          resultItem.innerHTML = `
                    <div class="flex items-start">
                        <div class="flex-shrink-0 mt-1 mr-3">
                            <i class="fas ${
                              isCorrect
                                ? "fa-check-circle text-green-500"
                                : "fa-times-circle text-red-500"
                            }"></i>
                        </div>
                        <div class="flex-1">
                            <h4 class="font-semibold text-gray-800">${
                              question.question
                            }</h4>
                            <div class="mt-2 grid grid-cols-1 md:grid-cols-2 gap-2">
                                <div class="${
                                  isCorrect ? "text-green-700" : "text-red-700"
                                }">
                                    <span class="font-medium">Votre r√©ponse:</span> ${
                                      !userAnswerText
                                        ? "vous n'avez pas r√©pondu"
                                        : userAnswerText
                                    }
                                </div>
                                ${
                                  !isCorrect
                                    ? `
                                    <div class="text-green-700">
                                        <span class="font-medium">Bonne r√©ponse:</span> 
                                        ${
                                          question.type === "vrai-faux"
                                            ? question.correctAnswer
                                            : question.options[
                                                question.correctAnswer
                                              ]
                                        }
                                    </div>
                                `
                                    : ""
                                }
                            </div>
                            <div class="mt-2 text-gray-600 text-sm">
                                <i class="fas fa-info-circle mr-1"></i> ${
                                  question.explanation
                                }
                            </div>
                        </div>
                    </div>
                `;

          resultsList.appendChild(resultItem);
        });

        scoreText.textContent = `Score: ${score}/${quizQuestions.length}`;
        quizContainer.classList.add("hidden");
        resultsContainer.classList.remove("hidden");

        const scorePercentage = (score / quizQuestions.length) * 100;

        if (scorePercentage >= 50) {
          // Celebration effect
          confetti({
            particleCount: 200,
            spread: 100,
            origin: { y: 0.6 },
          });
        } else {
          // Failure effect
          resultsContainer.classList.add("shake");
        }
      }

      // Event Listeners
      prevBtn.addEventListener("click", () => {
        if (currentQuestionIndex > 0) {
          currentQuestionIndex--;
          displayQuestion(currentQuestionIndex);
          updateProgress();
          updateNavigationButtons();
        }
      });

      nextBtn.addEventListener("click", () => {
        if (currentQuestionIndex < quizQuestions.length - 1) {
          currentQuestionIndex++;
          displayQuestion(currentQuestionIndex);
          updateProgress();
          updateNavigationButtons();
        }
      });

      resultsBtn.addEventListener("click", showResults);

      restartBtn.addEventListener("click", () => {
        // Clear saved answers
        localStorage.removeItem("pythonQuizAnswers");
        userAnswers = Array(quizQuestions.length).fill(null);
        currentQuestionIndex = 0;

        // Reset UI
        resultsContainer.classList.add("hidden");
        quizContainer.classList.remove("hidden");
        resultsContainer.classList.remove("shake"); // Remove shake effect on restart

        // Reinitialize quiz
        initQuiz();
      });

      downloadPdfBtn.addEventListener("click", () => {
        const { jsPDF } = window.jspdf;
        const resultsToCapture = document.getElementById("results-container");

        // Temporarily show the container to capture it, if it's hidden
        const wasHidden = resultsToCapture.classList.contains("hidden");
        if (wasHidden) {
          resultsToCapture.classList.remove("hidden");
        }

        html2canvas(resultsToCapture).then((canvas) => {
          if (wasHidden) {
            resultsToCapture.classList.add("hidden");
          }
          const imgData = canvas.toDataURL("image/png");
          const pdf = new jsPDF("p", "mm", "a4");
          const pdfWidth = pdf.internal.pageSize.getWidth();
          const pdfHeight = (canvas.height * pdfWidth) / canvas.width;
          pdf.addImage(imgData, "PNG", 0, 0, pdfWidth, pdfHeight);
          pdf.save("quiz-python-results.pdf");
        });
      });
      // Initialize the quiz
      initQuiz();
    </script>
  </body>
</html>
