<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quiz Python</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen py-8">
    <div class="container mx-auto px-4 max-w-4xl">
      <!-- Header -->
      <div class="text-center mb-8">
        <h1 class="text-4xl font-bold text-indigo-800 mb-2">Quiz Python</h1>
        <p class="text-lg text-gray-600">Testez vos connaissances en Python</p>
      </div>

      <!-- Quiz Container -->
      <div id="quiz-container" class="bg-white rounded-xl shadow-lg p-6 mb-6">
        <!-- Progress Bar -->
        <div class="mb-6">
          <div class="flex justify-between mb-2">
            <span class="text-sm font-medium text-indigo-700">Progression</span>
            <span
              id="progress-text"
              class="text-sm font-medium text-indigo-700"
            ></span>
          </div>
          <div class="w-full bg-gray-200 rounded-full h-2.5">
            <div
              id="progress-bar"
              class="bg-indigo-600 h-2.5 rounded-full"
              style="width: 20%"
            ></div>
          </div>
        </div>

        <!-- Question Container -->
        <div id="question-container" class="mb-8">
          <!-- Question will be dynamically inserted here -->
        </div>

        <!-- Navigation Buttons -->
        <div class="flex justify-between">
          <button
            id="prev-btn"
            class="flex items-center justify-center px-5 py-2 text-sm text-indigo-700 transition-colors duration-150 bg-indigo-100 rounded-lg hover:bg-indigo-200 disabled:opacity-50 disabled:cursor-not-allowed"
          >
            <i class="fas fa-arrow-left mr-2"></i> Précédent
          </button>
          <button
            id="next-btn"
            class="flex items-center justify-center px-5 py-2 text-sm text-white transition-colors duration-150 bg-indigo-600 rounded-lg hover:bg-indigo-700"
          >
            Suivant <i class="fas fa-arrow-right ml-2"></i>
          </button>
          <button
            id="results-btn"
            class="hidden flex items-center justify-center px-5 py-2 text-sm text-white transition-colors duration-150 bg-green-600 rounded-lg hover:bg-green-700"
          >
            Voir les résultats <i class="fas fa-chart-bar ml-2"></i>
          </button>
        </div>
      </div>

      <!-- Results Container -->
      <div
        id="results-container"
        class="hidden bg-white rounded-xl shadow-lg p-6"
      >
        <div class="text-center mb-6">
          <h2 class="text-2xl font-bold text-indigo-800 mb-2">
            Résultats du Quiz
          </h2>
          <div
            class="inline-flex items-center px-4 py-2 bg-indigo-100 text-indigo-800 rounded-full"
          >
            <i class="fas fa-trophy mr-2"></i>
            <span id="score-text" class="font-bold"
              >Score: 0/quizQuestions.length</span
            >
          </div>
        </div>

        <div id="results-list" class="space-y-4">
          <!-- Results will be dynamically inserted here -->
        </div>

        <div class="mt-8 text-center">
          <button
            id="restart-btn"
            class="px-6 py-3 text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors duration-150"
          >
            <i class="fas fa-redo mr-2"></i>Recommencer le Quiz
          </button>
        </div>

        <div class="mt-8 text-center">
          <a
            id="restart-btn"
            href="index.html"
            class="px-6 py-3 text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors duration-150"
          >
            <i class="fas fa-redo mr-2"></i>Revenir à la page principale
          </a>
        </div>
      </div>
    </div>

    <script>
      localStorage.clear();
      // Quiz questions data
      const quizQuestions = [
    {
        "id": 1,
        "type": "multichoix",
        "question": "Que signifie l'acronyme UML?",
        "options": [
            "Unified Modeling Language",
            "Universal Modeling Language",
            "Unified Module Language",
            "Universal Module Language"
        ],
        "correctAnswer": 0,
        "explanation": "UML signifie Unified Modeling Language (Langage de Modélisation Unifié)."
    },
    {
        "id": 2,
        "type": "multichoix",
        "question": "Quel type de diagramme UML montre les interactions entre objets dans le temps?",
        "options": [
            "Diagramme de classes",
            "Diagramme de séquence",
            "Diagramme de cas d'utilisation",
            "Diagramme d'états-transitions"
        ],
        "correctAnswer": 1,
        "explanation": "Le diagramme de séquence montre les interactions chronologiques entre objets."
    },
    {
        "id": 3,
        "type": "multichoix",
        "question": "Quel symbole représente une classe dans un diagramme de classes?",
        "options": [
            "Cercle",
            "Rectangle divisé en trois parties",
            "Ovale",
            "Losange"
        ],
        "correctAnswer": 1,
        "explanation": "Une classe est représentée par un rectangle avec trois compartiments: nom, attributs et opérations."
    },
    {
        "id": 4,
        "type": "multichoix",
        "question": "Quelle relation indique qu'une classe est une spécialisation d'une autre?",
        "options": [
            "Association",
            "Dépendance",
            "Généralisation",
            "Agrégation"
        ],
        "correctAnswer": 2,
        "explanation": "La généralisation représente la relation d'héritage entre une classe mère et une classe fille."
    },
    {
        "id": 5,
        "type": "multichoix",
        "question": "Comment représente-t-on la visibilité privée en UML?",
        "options": [
            "+",
            "-",
            "#",
            "~"
        ],
        "correctAnswer": 1,
        "explanation": "- pour privé, + pour public, # pour protégé, ~ pour package."
    },
    {
        "id": 6,
        "type": "multichoix",
        "question": "Quel diagramme montre les fonctionnalités du système du point de vue des utilisateurs?",
        "options": [
            "Diagramme de classes",
            "Diagramme de séquence",
            "Diagramme de cas d'utilisation",
            "Diagramme de composants"
        ],
        "correctAnswer": 2,
        "explanation": "Le diagramme de cas d'utilisation représente les fonctionnalités perçues par les acteurs externes."
    },
    {
        "id": 7,
        "type": "multichoix",
        "question": "Quel élément représente un utilisateur externe dans un diagramme de cas d'utilisation?",
        "options": [
            "Classe",
            "Acteur",
            "Objet",
            "Entité"
        ],
        "correctAnswer": 1,
        "explanation": "Les acteurs représentent les rôles des utilisateurs ou systèmes externes qui interagissent avec le système."
    },
    {
        "id": 8,
        "type": "multichoix",
        "question": "Quelle multiplicité signifie 'zéro ou plusieurs'?",
        "options": [
            "1",
            "0..1",
            "0..*",
            "1..*"
        ],
        "correctAnswer": 2,
        "explanation": "0..* signifie zéro ou plusieurs, 1..* signifie un ou plusieurs, 0..1 signifie zéro ou un."
    },
    {
        "id": 9,
        "type": "multichoix",
        "question": "Quel type d'agrégation représente une relation 'partie-tout' forte?",
        "options": [
            "Agrégation",
            "Composition",
            "Association",
            "Dépendance"
        ],
        "correctAnswer": 1,
        "explanation": "La composition est une agrégation forte où les parties ne peuvent exister sans le tout."
    },
    {
        "id": 10,
        "type": "multichoix",
        "question": "Comment représente-t-on une composition dans un diagramme de classes?",
        "options": [
            "Ligne pointillée avec flèche",
            "Ligne continue avec losange plein",
            "Ligne continue avec losange vide",
            "Ligne pointillée avec losange"
        ],
        "correctAnswer": 1,
        "explanation": "La composition utilise un losange plein, l'agrégation un losange vide."
    },
    {
        "id": 11,
        "type": "multichoix",
        "question": "Quel diagramme montre le comportement d'un objet à travers différents états?",
        "options": [
            "Diagramme de séquence",
            "Diagramme d'états-transitions",
            "Diagramme d'activité",
            "Diagramme de communication"
        ],
        "correctAnswer": 1,
        "explanation": "Le diagramme d'états-transitions modélise les états possibles d'un objet et les transitions entre eux."
    },
    {
        "id": 12,
        "type": "multichoix",
        "question": "Quel symbole représente l'état initial dans un diagramme d'états?",
        "options": [
            "Cercle plein",
            "Cercle vide",
            "Cercle avec 'H'",
            "Rectangle arrondi"
        ],
        "correctAnswer": 0,
        "explanation": "Le cercle plein représente l'état initial, le cercle avec bordure épaisse l'état final."
    },
    {
        "id": 13,
        "type": "multichoix",
        "question": "Quel diagramme ressemble à un organigramme et montre le flux d'activités?",
        "options": [
            "Diagramme de séquence",
            "Diagramme d'états-transitions",
            "Diagramme d'activité",
            "Diagramme de cas d'utilisation"
        ],
        "correctAnswer": 2,
        "explanation": "Le diagramme d'activité montre le flux de contrôle ou de données entre activités."
    },
    {
        "id": 14,
        "type": "multichoix",
        "question": "Quel élément représente une décision dans un diagramme d'activité?",
        "options": [
            "Rectangle arrondi",
            "Losange",
            "Barre épaisse",
            "Cercle"
        ],
        "correctAnswer": 1,
        "explanation": "Le losange représente un nœud de décision avec des flux alternatifs."
    },
    {
        "id": 15,
        "type": "multichoix",
        "question": "Quelle barre représente la synchronisation dans un diagramme d'activité?",
        "options": [
            "Barre de départ",
            "Barre de fin",
            "Barre de synchronisation",
            "Barre de décision"
        ],
        "correctAnswer": 2,
        "explanation": "La barre de synchronisation (barre épaisse) représente la division ou la jointure de flux."
    },
    {
        "id": 16,
        "type": "multichoix",
        "question": "Quel diagramme montre la structure physique du système?",
        "options": [
            "Diagramme de déploiement",
            "Diagramme de composants",
            "Diagramme de classes",
            "Diagramme de packages"
        ],
        "correctAnswer": 0,
        "explanation": "Le diagramme de déploiement montre l'architecture physique avec les nœuds et leurs connexions."
    },
    {
        "id": 17,
        "type": "multichoix",
        "question": "Quel élément représente un élément physique dans un diagramme de déploiement?",
        "options": [
            "Composant",
            "Nœud",
            "Classe",
            "Package"
        ],
        "correctAnswer": 1,
        "explanation": "Les nœuds représentent les ressources matérielles (serveurs, postes de travail, etc.)."
    },
    {
        "id": 18,
        "type": "multichoix",
        "question": "Quel diagramme montre l'organisation logique des éléments en groupes?",
        "options": [
            "Diagramme de composants",
            "Diagramme de packages",
            "Diagramme de déploiement",
            "Diagramme de structure composite"
        ],
        "correctAnswer": 1,
        "explanation": "Le diagramme de packages montre l'organisation des éléments en packages et leurs dépendances."
    },
    {
        "id": 19,
        "type": "multichoix",
        "question": "Quel stéréotype représente une classe abstraite?",
        "options": [
            "<<abstract>>",
            "<<interface>>",
            "<<utility>>",
            "<<entity>>"
        ],
        "correctAnswer": 0,
        "explanation": "Le stéréotype <<abstract>> ou le nom en italique indique une classe abstraite."
    },
    {
        "id": 20,
        "type": "multichoix",
        "question": "Comment représente-t-on une interface en UML?",
        "options": [
            "Rectangle avec stéréotype <<interface>>",
            "Cercle",
            "Ovale",
            "Rectangle avec double trait"
        ],
        "correctAnswer": 0,
        "explanation": "Une interface est représentée par un rectangle avec <<interface>> ou par un cercle (notation abrégée)."
    },
    {
        "id": 21,
        "type": "multichoix",
        "question": "Quelle relation utilise une flèche pointillée?",
        "options": [
            "Association",
            "Généralisation",
            "Dépendance",
            "Agrégation"
        ],
        "correctAnswer": 2,
        "explanation": "La dépendance est représentée par une flèche pointillée."
    },
    {
        "id": 22,
        "type": "multichoix",
        "question": "Quel diagramme est une variante du diagramme de séquence?",
        "options": [
            "Diagramme de communication",
            "Diagramme d'états-transitions",
            "Diagramme d'activité",
            "Diagramme de temps"
        ],
        "correctAnswer": 0,
        "explanation": "Le diagramme de communication (anciennement collaboration) est une variante focalisée sur les liens structurels."
    },
    {
        "id": 23,
        "type": "multichoix",
        "question": "Quel élément représente la durée de vie d'un objet dans un diagramme de séquence?",
        "options": [
            "Ligne de vie",
            "Activation",
            "Message",
            "Fragment"
        ],
        "correctAnswer": 0,
        "explanation": "La ligne de vie montre la durée de vie d'un objet pendant l'interaction."
    },
    {
        "id": 24,
        "type": "multichoix",
        "question": "Quel fragment représente une alternative dans un diagramme de séquence?",
        "options": [
            "alt",
            "opt",
            "loop",
            "par"
        ],
        "correctAnswer": 0,
        "explanation": "Le fragment 'alt' représente une alternative (if-then-else), 'opt' une option, 'loop' une boucle."
    },
    {
        "id": 25,
        "type": "multichoix",
        "question": "Quel type de message crée une nouvelle ligne de vie?",
        "options": [
            "Message synchrone",
            "Message asynchrone",
            "Message de création",
            "Message de réponse"
        ],
        "correctAnswer": 2,
        "explanation": "Le message de création (create) instancie un nouvel objet."
    },
    {
        "id": 26,
        "type": "multichoix",
        "question": "Comment représente-t-on un objet dans un diagramme de séquence?",
        "options": [
            "Rectangle avec nom:Classe",
            "Cercle",
            "Ovale",
            "Rectangle avec nom seulement"
        ],
        "correctAnswer": 0,
        "explanation": "Un objet est représenté par 'nom:Classe' ou simplement ':Classe' si l'objet est anonyme."
    },
    {
        "id": 27,
        "type": "multichoix",
        "question": "Quel diagramme montre les interactions centrées sur la structure des liens?",
        "options": [
            "Diagramme de séquence",
            "Diagramme de communication",
            "Diagramme d'états-transitions",
            "Diagramme d'activité"
        ],
        "correctAnswer": 1,
        "explanation": "Le diagramme de communication met l'accent sur les relations structurelles entre objets."
    },
    {
        "id": 28,
        "type": "multichoix",
        "question": "Quel élément représente une opération dans une classe?",
        "options": [
            "Attribut",
            "Méthode",
            "Propriété",
            "Association"
        ],
        "correctAnswer": 1,
        "explanation": "Les opérations (méthodes) sont listées dans le troisième compartiment d'une classe."
    },
    {
        "id": 29,
        "type": "multichoix",
        "question": "Quelle notation utilise-t-on pour les paramètres d'une opération?",
        "options": [
            "nom(paramètre:Type):TypeRetour",
            "nom:Type(paramètre)",
            "Type nom(paramètre)",
            "paramètre:Type nom():TypeRetour"
        ],
        "correctAnswer": 0,
        "explanation": "La syntaxe est: nom(param1:Type1, param2:Type2):TypeRetour"
    },
    {
        "id": 30,
        "type": "multichoix",
        "question": "Quel stéréotype représente un point d'extension dans un cas d'utilisation?",
        "options": [
            "<<include>>",
            "<<extend>>",
            "<<use>>",
            "<<invoke>>"
        ],
        "correctAnswer": 1,
        "explanation": "La relation <<extend>> montre qu'un cas d'utilisation peut étendre un autre à un point d'extension."
    },
    {
        "id": 31,
        "type": "multichoix",
        "question": "Quelle relation signifie l'inclusion obligatoire entre cas d'utilisation?",
        "options": [
            "Include",
            "Extend",
            "Généralisation",
            "Association"
        ],
        "correctAnswer": 0,
        "explanation": "La relation include signifie qu'un cas d'utilisation inclut obligatoirement un autre."
    },
    {
        "id": 32,
        "type": "multichoix",
        "question": "Comment représente-t-on une cardinalité 1 à plusieurs?",
        "options": [
            "1",
            "*",
            "1..*",
            "0..*"
        ],
        "correctAnswer": 2,
        "explanation": "1..* signifie 'un ou plusieurs', c'est-à-dire une cardinalité minimale de 1 et maximale de plusieurs."
    },
    {
        "id": 33,
        "type": "multichoix",
        "question": "Quel diagramme montre la structure interne d'une classe?",
        "options": [
            "Diagramme de structure composite",
            "Diagramme de classes",
            "Diagramme de composants",
            "Diagramme de packages"
        ],
        "correctAnswer": 0,
        "explanation": "Le diagramme de structure composite montre la composition interne d'une classe avec ses parties."
    },
    {
        "id": 34,
        "type": "multichoix",
        "question": "Quel élément représente un port dans un diagramme de structure composite?",
        "options": [
            "Carré petit",
            "Cercle",
            "Rectangle",
            "Losange"
        ],
        "correctAnswer": 0,
        "explanation": "Un port est représenté par un petit carré sur le bord du classeur."
    },
    {
        "id": 35,
        "type": "multichoix",
        "question": "Quelle relation lie une interface à sa réalisation?",
        "options": [
            "Dépendance",
            "Association",
            "Réalisation",
            "Généralisation"
        ],
        "correctAnswer": 2,
        "explanation": "La relation de réalisation (ligne pointillée avec triangle vide) montre qu'une classe réalise une interface."
    },
    {
        "id": 36,
        "type": "multichoix",
        "question": "Quel diagramme est utilisé pour modéliser les aspects temporels critiques?",
        "options": [
            "Diagramme de séquence",
            "Diagramme de temps",
            "Diagramme d'états-transitions",
            "Diagramme de communication"
        ],
        "correctAnswer": 1,
        "explanation": "Le diagramme de temps montre les contraintes temporelles explicites sur les changements d'état."
    },
    {
        "id": 37,
        "type": "multichoix",
        "question": "Quel fragment représente une exécution parallèle?",
        "options": [
            "alt",
            "opt",
            "par",
            "critical"
        ],
        "correctAnswer": 2,
        "explanation": "Le fragment 'par' représente l'exécution parallèle de plusieurs séquences."
    },
    {
        "id": 38,
        "type": "multichoix",
        "question": "Comment représente-t-on une contrainte en UML?",
        "options": [
            "Entre accolades {}",
            "Entre crochets []",
            "Entre parenthèses ()",
            "Entre guillemets \"\""
        ],
        "correctAnswer": 0,
        "explanation": "Les contraintes sont écrites entre accolades {} et peuvent être placées près de l'élément concerné."
    },
    {
        "id": 39,
        "type": "multichoix",
        "question": "Quel élément représente un patron de conception dans UML?",
        "options": [
            "Stéréotype",
            "Tagged value",
            "Contrainte",
            "Note"
        ],
        "correctAnswer": 0,
        "explanation": "Les stéréotypes permettent d'étendre UML pour représenter des patrons de conception."
    },
    {
        "id": 40,
        "type": "multichoix",
        "question": "Quel diagramme montre les dépendances entre composants logiciels?",
        "options": [
            "Diagramme de composants",
            "Diagramme de déploiement",
            "Diagramme de packages",
            "Diagramme de classes"
        ],
        "correctAnswer": 0,
        "explanation": "Le diagramme de composants montre l'organisation des composants logiciels et leurs dépendances."
    },
    {
        "id": 41,
        "type": "multichoix",
        "question": "Comment représente-t-on une classe utilitaire?",
        "options": [
            "<<class>>",
            "<<utility>>",
            "<<static>>",
            "<<singleton>>"
        ],
        "correctAnswer": 1,
        "explanation": "Le stéréotype <<utility>> représente une classe ne contenant que des opérations statiques."
    },
    {
        "id": 42,
        "type": "multichoix",
        "question": "Quelle relation est la plus forte?",
        "options": [
            "Dépendance",
            "Association",
            "Composition",
            "Agrégation"
        ],
        "correctAnswer": 2,
        "explanation": "La composition est la relation la plus forte, impliquant une relation partie-tout avec existence dépendante."
    },
    {
        "id": 43,
        "type": "multichoix",
        "question": "Quel élément représente un événement dans un diagramme d'états?",
        "options": [
            "Transition",
            "État",
            "Action",
            "Gardien"
        ],
        "correctAnswer": 0,
        "explanation": "Une transition est déclenchée par un événement et peut avoir une action et une condition de garde."
    },
    {
        "id": 44,
        "type": "multichoix",
        "question": "Comment note-t-on une condition de garde?",
        "options": [
            "[condition]",
            "{condition}",
            "(condition)",
            "/condition"
        ],
        "explanation": "Les conditions de garde sont notées entre crochets [condition] sur les transitions."
    },
    {
        "id": 45,
        "type": "multichoix",
        "question": "Quel type d'action est exécutée à l'entrée dans un état?",
        "options": [
            "entry/",
            "exit/",
            "do/",
            "on/"
        ],
        "correctAnswer": 0,
        "explanation": "entry/ action exécutée à l'entrée, exit/ à la sortie, do/ activité durant l'état."
    },
    {
        "id": 46,
        "type": "multichoix",
        "question": "Quel diagramme montre les interactions entre les parties d'un cas d'utilisation?",
        "options": [
            "Diagramme de séquence système",
            "Diagramme de communication",
            "Diagramme d'activité",
            "Diagramme d'états-transitions"
        ],
        "correctAnswer": 0,
        "explanation": "Le diagramme de séquence système montre les interactions pour réaliser un cas d'utilisation."
    },
    {
        "id": 47,
        "type": "multichoix",
        "question": "Quel élément représente un point de décision dans un diagramme d'activité?",
        "options": [
            "Nœud de décision",
            "Nœud de fusion",
            "Nœud initial",
            "Nœud final"
        ],
        "correctAnswer": 0,
        "explanation": "Le nœud de décision (losange) permet de diviser le flux selon des conditions."
    },
    {
        "id": 48,
        "type": "multichoix",
        "question": "Comment représente-t-on un flux d'objet?",
        "options": [
            "Flèche pointillée",
            "Flèche continue",
            "Flèche avec rectangle",
            "Flèche avec losange"
        ],
        "correctAnswer": 0,
        "explanation": "Le flux d'objet (données) est représenté par une flèche pointillée dans un diagramme d'activité."
    },
    {
        "id": 49,
        "type": "multichoix",
        "question": "Quel partitionnement organise les activités par acteur?",
        "options": [
            "Partition",
            "Région",
            "Zone",
            "Secteur"
        ],
        "correctAnswer": 0,
        "explanation": "Les partitions (swimlanes) organisent les activités par acteur responsable."
    },
    {
        "id": 50,
        "type": "multichoix",
        "question": "Quel diagramme est le plus approprié pour modéliser un workflow métier?",
        "options": [
            "Diagramme de classes",
            "Diagramme d'activité",
            "Diagramme de séquence",
            "Diagramme de composants"
        ],
        "correctAnswer": 1,
        "explanation": "Le diagramme d'activité est idéal pour modéliser les workflows et processus métier."
    },
    {
        "id": 51,
        "type": "multichoix",
        "question": "Quel élément représente une exception dans un diagramme d'activité?",
        "options": [
            "Nœud d'événement",
            "Nœud d'acceptation d'événement",
            "Nœud d'émission d'événement",
            "Nœud d'activité structurée"
        ],
        "correctAnswer": 0,
        "explanation": "Le nœud d'événement peut représenter la réception d'exceptions."
    },
    {
        "id": 52,
        "type": "multichoix",
        "question": "Comment représente-t-on une interface requise?",
        "options": [
            "Port avec stéréotype <<required>>",
            "Port avec stéréotype <<provided>>",
            "Cercle plein",
            "Cercle vide"
        ],
        "correctAnswer": 0,
        "explanation": "Un port avec <<required>> représente une interface requise, <<provided>> une interface fournie."
    },
    {
        "id": 53,
        "type": "multichoix",
        "question": "Quel diagramme montre l'architecture logique du système?",
        "options": [
            "Diagramme de composants",
            "Diagramme de déploiement",
            "Diagramme de packages",
            "Diagramme de classes"
        ],
        "correctAnswer": 0,
        "explanation": "Le diagramme de composants montre l'architecture logique avec les composants et leurs interfaces."
    },
    {
        "id": 54,
        "type": "multichoix",
        "question": "Quel stéréotype représente une entité persistante?",
        "options": [
            "<<entity>>",
            "<<boundary>>",
            "<<control>>",
            "<<persistent>>"
        ],
        "correctAnswer": 0,
        "explanation": "Dans le patron MVC, <<entity>> représente les objets métier persistants."
    },
    {
        "id": 55,
        "type": "multichoix",
        "question": "Quel diagramme est utilisé pour l'analyse des performances?",
        "options": [
            "Diagramme de déploiement",
            "Diagramme de temps",
            "Diagramme d'activité",
            "Diagramme de séquence"
        ],
        "explanation": "Le diagramme de déploiement avec les ressources matérielles est utilisé pour l'analyse des performances."
    },
    {
        "id": 56,
        "type": "multichoix",
        "question": "Comment représente-t-on un template (gabarit) en UML?",
        "options": [
            "Classe avec paramètres",
            "Classe avec stéréotype <<template>>",
            "Package spécial",
            "Interface générique"
        ],
        "correctAnswer": 0,
        "explanation": "Une classe template a un compartiment supplémentaire avec les paramètres formels."
    },
    {
        "id": 57,
        "type": "multichoix",
        "question": "Quelle relation lie une instance de template à son template?",
        "options": [
            "Dépendance",
            "Association",
            "Binding",
            "Généralisation"
        ],
        "correctAnswer": 2,
        "explanation": "La relation de binding (<<bind>>) lie une classe à son template avec des paramètres actuels."
    },
    {
        "id": 58,
        "type": "multichoix",
        "question": "Quel diagramme montre les changements d'état en fonction du temps?",
        "options": [
            "Diagramme de séquence",
            "Diagramme de temps",
            "Diagramme d'états-transitions",
            "Diagramme de communication"
        ],
        "correctAnswer": 1,
        "explanation": "Le diagramme de temps montre explicitement les changements d'état en fonction du temps écoulé."
    },
    {
        "id": 59,
        "type": "multichoix",
        "question": "Quel élément représente un signal en UML?",
        "options": [
            "Classe avec stéréotype <<signal>>",
            "Interface",
            "Événement",
            "Message"
        ],
        "correctAnswer": 0,
        "explanation": "Un signal est représenté comme une classe avec le stéréotype <<signal>>."
    },
    {
        "id": 60,
        "type": "multichoix",
        "question": "Quel est l'objectif principal d'UML?",
        "options": [
            "Générer du code automatiquement",
            "Standardiser la modélisation objet",
            "Remplacer la programmation",
            "Créer des interfaces graphiques"
        ],
        "correctAnswer": 1,
        "explanation": "UML standardise la notation pour la modélisation orientée objet, facilitant la communication entre les acteurs."
    }
];

      document.getElementById("progress-text").textContent =
        "Question 1/" + quizQuestions.length;

      // DOM Elements
      const questionContainer = document.getElementById("question-container");
      const progressBar = document.getElementById("progress-bar");
      const progressText = document.getElementById("progress-text");
      const prevBtn = document.getElementById("prev-btn");
      const nextBtn = document.getElementById("next-btn");
      const resultsBtn = document.getElementById("results-btn");
      const quizContainer = document.getElementById("quiz-container");
      const resultsContainer = document.getElementById("results-container");
      const scoreText = document.getElementById("score-text");
      const resultsList = document.getElementById("results-list");
      const restartBtn = document.getElementById("restart-btn");

      // Quiz state
      let currentQuestionIndex = 0;
      let userAnswers =
        JSON.parse(localStorage.getItem("phpQuizAnswers")) ||
        Array(quizQuestions.length).fill(null);

      // Initialize the quiz
      function initQuiz() {
        displayQuestion(currentQuestionIndex);
        updateProgress();
        updateNavigationButtons();
      }

      // Display current question
      function displayQuestion(index) {
        const question = quizQuestions[index];
        let questionHTML = "";

        if (question.type === "vrai-faux") {
          questionHTML = `
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4">${
                          question.question
                        }</h3>
                        <div class="flex space-x-4">
                            <label class="flex items-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors duration-150 flex-1 ${
                              userAnswers[index] === "vrai"
                                ? "border-indigo-500 bg-indigo-50"
                                : ""
                            }">
                                <input type="radio" name="answer" value="vrai" class="hidden" ${
                                  userAnswers[index] === "vrai" ? "checked" : ""
                                }>
                                <div class="flex items-center justify-center w-6 h-6 border-2 border-gray-300 rounded-full mr-3 ${
                                  userAnswers[index] === "vrai"
                                    ? "border-indigo-500 bg-indigo-500"
                                    : ""
                                }">
                                    ${
                                      userAnswers[index] === "vrai"
                                        ? '<i class="fas fa-check text-white text-xs"></i>'
                                        : ""
                                    }
                                </div>
                                <span class="text-lg">Vrai</span>
                            </label>
                            <label class="flex items-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors duration-150 flex-1 ${
                              userAnswers[index] === "faux"
                                ? "border-indigo-500 bg-indigo-50"
                                : ""
                            }">
                                <input type="radio" name="answer" value="faux" class="hidden" ${
                                  userAnswers[index] === "faux" ? "checked" : ""
                                }>
                                <div class="flex items-center justify-center w-6 h-6 border-2 border-gray-300 rounded-full mr-3 ${
                                  userAnswers[index] === "faux"
                                    ? "border-indigo-500 bg-indigo-500"
                                    : ""
                                }">
                                    ${
                                      userAnswers[index] === "faux"
                                        ? '<i class="fas fa-check text-white text-xs"></i>'
                                        : ""
                                    }
                                </div>
                                <span class="text-lg">Faux</span>
                            </label>
                        </div>
                    </div>
                `;
        } else if (question.type === "multichoix") {
          questionHTML = `
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4">${
                          question.question
                        }</h3>
                        <div class="space-y-3">
                            ${question.options
                              .map(
                                (option, i) => `
                                <label class="flex items-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors duration-150 ${
                                  userAnswers[index] === i
                                    ? "border-indigo-500 bg-indigo-50"
                                    : ""
                                }">
                                    <input type="radio" name="answer" value="${i}" class="hidden" ${
                                  userAnswers[index] === i ? "checked" : ""
                                }>
                                    <div class="flex items-center justify-center w-6 h-6 border-2 border-gray-300 rounded-full mr-3 ${
                                      userAnswers[index] === i
                                        ? "border-indigo-500 bg-indigo-500"
                                        : ""
                                    }">
                                        ${
                                          userAnswers[index] === i
                                            ? '<i class="fas fa-check text-white text-xs"></i>'
                                            : ""
                                        }
                                    </div>
                                    <span class="text-lg">${option}</span>
                                </label>
                            `
                              )
                              .join("")}
                        </div>
                    </div>
                `;
        }

        questionContainer.innerHTML = questionHTML;

        // Add event listeners to answer options
        const answerOptions = questionContainer.querySelectorAll("label");
        answerOptions.forEach((option) => {
          option.addEventListener("click", () => {
            // Remove selection from all options
            answerOptions.forEach((opt) => {
              opt.classList.remove("border-indigo-500", "bg-indigo-50");
              const radio = opt.querySelector('input[type="radio"]');
              const checkIcon = opt.querySelector(".fa-check");
              if (checkIcon) {
                checkIcon.parentElement.classList.remove(
                  "border-indigo-500",
                  "bg-indigo-500"
                );
                checkIcon.remove();
              }
            });

            // Select clicked option
            option.classList.add("border-indigo-500", "bg-indigo-50");
            const radio = option.querySelector('input[type="radio"]');
            radio.checked = true;

            const checkDiv = option.querySelector("div");
            checkDiv.classList.add("border-indigo-500", "bg-indigo-500");
            checkDiv.innerHTML =
              '<i class="fas fa-check text-white text-xs"></i>';

            // Save answer
            saveAnswer(index, radio.value);
          });
        });
      }

      // Save answer to localStorage
      function saveAnswer(index, answer) {
        userAnswers[index] = answer;
        localStorage.setItem("phpQuizAnswers", JSON.stringify(userAnswers));
        updateNavigationButtons();
      }

      // Update progress bar and text
      function updateProgress() {
        const progress =
          ((currentQuestionIndex + 1) / quizQuestions.length) * 100;
        progressBar.style.width = `${progress}%`;
        progressText.textContent = `Question ${currentQuestionIndex + 1}/${
          quizQuestions.length
        }`;
      }

      // Update navigation buttons state
      function updateNavigationButtons() {
        prevBtn.disabled = currentQuestionIndex === 0;

        if (currentQuestionIndex === quizQuestions.length - 1) {
          nextBtn.classList.add("hidden");
          resultsBtn.classList.remove("hidden");
        } else {
          nextBtn.classList.remove("hidden");
          resultsBtn.classList.add("hidden");
        }
      }

      // Show results
      function showResults() {
        let score = 0;
        resultsList.innerHTML = "";

        quizQuestions.forEach((question, index) => {
          const userAnswer = userAnswers[index];
          let isCorrect = false;

          if (question.type === "vrai-faux") {
            isCorrect = userAnswer === question.correctAnswer;
          } else if (question.type === "multichoix") {
            isCorrect = parseInt(userAnswer) === question.correctAnswer;
          }

          if (isCorrect) score++;

          const resultItem = document.createElement("div");
          resultItem.className = `p-4 rounded-lg border ${
            isCorrect
              ? "bg-green-50 border-green-200"
              : "bg-red-50 border-red-200"
          }`;

          let userAnswerText = "";
          if (question.type === "vrai-faux") {
            userAnswerText = userAnswer || "Non répondu";
          } else if (question.type === "multichoix") {
            userAnswerText =
              userAnswer !== null
                ? question.options[userAnswer]
                : "Non répondu";
          }

          resultItem.innerHTML = `
                    <div class="flex items-start">
                        <div class="flex-shrink-0 mt-1 mr-3">
                            <i class="fas ${
                              isCorrect
                                ? "fa-check-circle text-green-500"
                                : "fa-times-circle text-red-500"
                            }"></i>
                        </div>
                        <div class="flex-1">
                            <h4 class="font-semibold text-gray-800">${
                              question.question
                            }</h4>
                            <div class="mt-2 grid grid-cols-1 md:grid-cols-2 gap-2">
                                <div class="${
                                  isCorrect ? "text-green-700" : "text-red-700"
                                }">
                                    <span class="font-medium">Votre réponse:</span> ${
                                      !userAnswerText
                                        ? "vous n'avez pas répondu"
                                        : userAnswerText
                                    }
                                </div>
                                ${
                                  !isCorrect
                                    ? `
                                    <div class="text-green-700">
                                        <span class="font-medium">Bonne réponse:</span> 
                                        ${
                                          question.type === "vrai-faux"
                                            ? question.correctAnswer
                                            : question.options[
                                                question.correctAnswer
                                              ]
                                        }
                                    </div>
                                `
                                    : ""
                                }
                            </div>
                            <div class="mt-2 text-gray-600 text-sm">
                                <i class="fas fa-info-circle mr-1"></i> ${
                                  question.explanation
                                }
                            </div>
                        </div>
                    </div>
                `;

          resultsList.appendChild(resultItem);
        });

        scoreText.textContent = `Score: ${score}/${quizQuestions.length}`;
        quizContainer.classList.add("hidden");
        resultsContainer.classList.remove("hidden");
      }

      // Event Listeners
      prevBtn.addEventListener("click", () => {
        if (currentQuestionIndex > 0) {
          currentQuestionIndex--;
          displayQuestion(currentQuestionIndex);
          updateProgress();
          updateNavigationButtons();
        }
      });

      nextBtn.addEventListener("click", () => {
        if (currentQuestionIndex < quizQuestions.length - 1) {
          currentQuestionIndex++;
          displayQuestion(currentQuestionIndex);
          updateProgress();
          updateNavigationButtons();
        }
      });

      resultsBtn.addEventListener("click", showResults);

      restartBtn.addEventListener("click", () => {
        // Clear saved answers
        localStorage.removeItem("phpQuizAnswers");
        userAnswers = Array(quizQuestions.length).fill(null);
        currentQuestionIndex = 0;

        // Reset UI
        resultsContainer.classList.add("hidden");
        quizContainer.classList.remove("hidden");

        // Reinitialize quiz
        initQuiz();
      });

      // Initialize the quiz
      initQuiz();
    </script>
  </body>
</html>
